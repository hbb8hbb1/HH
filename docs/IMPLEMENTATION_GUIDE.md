# æ ‡ç­¾ä½“ç³»é‡æ„å®æ–½æŒ‡å—

## ğŸ“‹ æ¦‚è¿°

æœ¬æ–‡æ¡£æä¾›äº†å®Œæ•´çš„æ ‡ç­¾ä½“ç³»é‡æ„å®æ–½æŒ‡å—ï¼ŒåŒ…æ‹¬å¦‚ä½•æ¸…ç†æ—§æ•°æ®ã€é‡æ–°ä¸Šä¼ æ•°æ®ã€ä»¥åŠéªŒè¯æ•´ä¸ªæµç¨‹ã€‚

---

## ğŸ¯ å®æ–½æ­¥éª¤

### æ­¥éª¤ 1: æ¸…ç†æ—§æ•°æ®ï¼ˆå¯é€‰ï¼‰

å¦‚æœç°æœ‰æ•°æ®ä¸ç¬¦åˆæ–°è§„èŒƒï¼Œå¯ä»¥æ¸…ç†æ•°æ®åº“ï¼š

```bash
# è¿æ¥åˆ° MongoDB
mongosh

# åˆ‡æ¢åˆ°æ•°æ®åº“
use offermagnet

# åˆ é™¤æ‰€æœ‰ postsï¼ˆè°¨æ…æ“ä½œï¼ï¼‰
db.posts.deleteMany({})

# æˆ–è€…å¤‡ä»½åå†åˆ é™¤
db.posts.find().forEach(function(doc) {
    db.posts_backup.insertOne(doc);
});
db.posts.deleteMany({});
```

### æ­¥éª¤ 2: è¿è¡Œæµ‹è¯•ç¡®ä¿éªŒè¯å™¨æ­£å¸¸å·¥ä½œ

```bash
# Python æµ‹è¯•ï¼ˆPipeline é˜¶æ®µï¼‰
cd /Users/henghuang/Desktop/ä»£ç 
python3 tests/test_tag_validation.py

# Node.js æµ‹è¯•ï¼ˆåç«¯é˜¶æ®µï¼‰
cd HH-main/server
node tests/tagValidator.test.js
```

### æ­¥éª¤ 3: é‡æ–°è¿è¡Œ Pipeline å¤„ç†æ•°æ®

```bash
cd /Users/henghuang/Desktop/ä»£ç /hh_pipeline

# è¿è¡Œ Pipelineï¼ˆä¼šä½¿ç”¨æ–°çš„éªŒè¯å™¨ï¼‰
python3 pipeline.py run --html-dir ./input_html --out-dir ./final

# å¦‚æœé…ç½®äº†åç«¯ APIï¼Œå¯ä»¥ç›´æ¥å¯¼å…¥
python3 pipeline.py run --html-dir ./input_html --out-dir ./final \
    --api-base http://localhost:5001 \
    --email your-email@example.com \
    --password your-password
```

### æ­¥éª¤ 4: éªŒè¯æ•°æ®

```bash
# ä½¿ç”¨ MongoDB shell æ£€æŸ¥æ•°æ®
mongosh

use offermagnet

# æ£€æŸ¥ category å€¼æ˜¯å¦éƒ½æ˜¯è‹±æ–‡æ ‡å‡†å€¼
db.posts.distinct("tagDimensions.category")

# åº”è¯¥çœ‹åˆ°: ["SWE", "Data", "PM", "Design", "Infra", "Other"]

# æ£€æŸ¥ recruitType å€¼æ˜¯å¦éƒ½æ˜¯è‹±æ–‡æ ‡å‡†å€¼
db.posts.distinct("tagDimensions.recruitType")

# åº”è¯¥çœ‹åˆ°: ["intern", "newgrad", "experienced"] æˆ–ç©ºæ•°ç»„

# æ£€æŸ¥æ˜¯å¦æœ‰ä¸ç¬¦åˆè§„èŒƒçš„æ•°æ®
db.posts.find({
    $or: [
        { "tagDimensions.category": { $nin: ["SWE", "Data", "PM", "Design", "Infra", "Other"] } },
        { "tagDimensions.recruitType": { $exists: true, $nin: ["", "intern", "newgrad", "experienced"] } }
    ]
}).count()
```

### æ­¥éª¤ 5: æµ‹è¯•å‰åç«¯é›†æˆ

1. å¯åŠ¨åç«¯æœåŠ¡ï¼š
```bash
cd HH-main/server
node index.js
```

2. å¯åŠ¨å‰ç«¯æœåŠ¡ï¼š
```bash
cd HH-main
npm run dev
```

3. åœ¨æµè§ˆå™¨ä¸­æµ‹è¯•ç­›é€‰åŠŸèƒ½ï¼š
   - æ‰“å¼€å‰ç«¯é¡µé¢
   - é€‰æ‹©ç­›é€‰æ¡ä»¶ï¼ˆå¦‚ company=Google, category=Dataï¼‰
   - éªŒè¯æ˜¯å¦è¿”å›æ­£ç¡®çš„æ•°æ®
   - æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯

---

## ğŸ” éªŒè¯æ£€æŸ¥æ¸…å•

### Pipeline é˜¶æ®µéªŒè¯

- [ ] éªŒè¯å™¨æ­£ç¡®è§„èŒƒåŒ–ä¸­æ–‡å€¼ä¸ºè‹±æ–‡æ ‡å‡†å€¼
- [ ] æ‰€æœ‰ category å€¼éƒ½æ˜¯: SWE, Data, PM, Design, Infra, Other
- [ ] æ‰€æœ‰ recruitType å€¼éƒ½æ˜¯: intern, newgrad, experienced æˆ–ç©ºå­—ç¬¦ä¸²
- [ ] æ‰€æœ‰ experience å€¼éƒ½æ˜¯: 0, 0-2, 2-5, 5-10, 10+ æˆ–ç©ºå­—ç¬¦ä¸²
- [ ] æ‰€æœ‰ salary å€¼éƒ½æ˜¯: 0-100k, 100k-150k, 150k-200k, 200k-300k, 300k+ æˆ–ç©ºå­—ç¬¦ä¸²

### æ•°æ®åº“éªŒè¯

- [ ] æ‰€æœ‰ posts éƒ½æœ‰ tagDimensions.category å­—æ®µ
- [ ] æ‰€æœ‰ tagDimensions.category å€¼éƒ½åœ¨æ ‡å‡†å€¼åˆ—è¡¨ä¸­
- [ ] æ²¡æœ‰ä¸­æ–‡ category å€¼ï¼ˆå¦‚ "ç®—æ³•"ã€"ç ”å‘"ã€"äº§å“"ï¼‰
- [ ] æ²¡æœ‰ä¸­æ–‡ recruitType å€¼ï¼ˆå¦‚ "å®ä¹ "ã€"æ ¡æ‹›"ã€"ç¤¾æ‹›"ï¼‰

### åç«¯ API éªŒè¯

- [ ] `/api/filter-options` è¿”å›çš„ category å€¼æ˜¯è‹±æ–‡æ ‡å‡†å€¼
- [ ] `/api/posts?company=Google&category=Data` è¿”å›æ­£ç¡®çš„ç»“æœ
- [ ] `/api/posts?company=Google&category=ç®—æ³•` è¿”å›ç©ºç»“æœï¼ˆå› ä¸ºä¸å†æ”¯æŒä¸­æ–‡å€¼ï¼‰

### å‰ç«¯éªŒè¯

- [ ] ç­›é€‰é¢æ¿æ˜¾ç¤ºæ­£ç¡®çš„é€‰é¡¹å€¼
- [ ] é€‰æ‹©ç­›é€‰æ¡ä»¶åï¼Œè¿”å›æ­£ç¡®çš„æ•°æ®
- [ ] ä¸å†æ˜¾ç¤º MOCK æ•°æ®ï¼ˆé™¤é API è¿”å›ç©ºç»“æœï¼‰
- [ ] ç­›é€‰åŠŸèƒ½å“åº”å¿«é€Ÿï¼ˆ<1ç§’ï¼‰

---

## ğŸ› å¸¸è§é—®é¢˜

### é—®é¢˜ 1: æµ‹è¯•å¤±è´¥

**ç—‡çŠ¶**: è¿è¡Œæµ‹è¯•æ—¶å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥ validators.py å’Œ tagValidator.js æ˜¯å¦æ­£ç¡®å¯¼å…¥
2. æ£€æŸ¥ STANDARD_VALUES å’Œ ALIAS_MAPPINGS æ˜¯å¦ä¸€è‡´
3. æŸ¥çœ‹æµ‹è¯•è¾“å‡ºä¸­çš„å…·ä½“é”™è¯¯ä¿¡æ¯

### é—®é¢˜ 2: Pipeline éªŒè¯å¤±è´¥

**ç—‡çŠ¶**: Pipeline å¤„ç†æ•°æ®æ—¶éªŒè¯å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥ AI è¿”å›çš„æ•°æ®æ ¼å¼æ˜¯å¦æ­£ç¡®
2. æŸ¥çœ‹ Pipeline æ—¥å¿—ä¸­çš„é”™è¯¯ä¿¡æ¯
3. éªŒè¯ AI prompt æ˜¯å¦æ­£ç¡®è¦æ±‚è¾“å‡ºæ ‡å‡†å€¼

### é—®é¢˜ 3: å‰ç«¯ç­›é€‰ä¸å·¥ä½œ

**ç—‡çŠ¶**: é€‰æ‹©ç­›é€‰æ¡ä»¶åæ²¡æœ‰è¿”å›æ•°æ®

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°çš„ Network æ ‡ç­¾ï¼ŒæŸ¥çœ‹ API è¯·æ±‚å’Œå“åº”
2. æ£€æŸ¥åç«¯æ—¥å¿—ï¼ŒæŸ¥çœ‹æŸ¥è¯¢æ¡ä»¶æ˜¯å¦æ­£ç¡®
3. éªŒè¯æ•°æ®åº“ä¸­çš„æ•°æ®æ˜¯å¦ç¬¦åˆè§„èŒƒ
4. æ£€æŸ¥å‰ç«¯ç­›é€‰é€‰é¡¹çš„å€¼æ˜¯å¦ä¸æ•°æ®åº“å€¼åŒ¹é…

### é—®é¢˜ 4: æ•°æ®ä¸ä¸€è‡´

**ç—‡çŠ¶**: æ•°æ®åº“ä¸­ä»æœ‰ä¸­æ–‡å€¼

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥ Pipeline æ˜¯å¦æ­£ç¡®ä½¿ç”¨äº†éªŒè¯å™¨
2. è¿è¡Œæ•°æ®è¿ç§»è„šæœ¬ï¼ˆå¦‚æœåˆ›å»ºäº†ï¼‰
3. æ‰‹åŠ¨æ¸…ç†ä¸ç¬¦åˆè§„èŒƒçš„æ•°æ®

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [æ ‡ç­¾ä½“ç³»è§„èŒƒæ–‡æ¡£](./TAG_SPECIFICATION.md)
- [Pipeline æ–‡æ¡£](../hh_pipeline/README.md)
- [åç«¯ API æ–‡æ¡£](../HH-main/server/README.md)

---

## ğŸ†˜ è·å–å¸®åŠ©

å¦‚æœé‡åˆ°é—®é¢˜ï¼š
1. æŸ¥çœ‹ç›¸å…³æ–‡æ¡£
2. è¿è¡Œæµ‹è¯•æ£€æŸ¥éªŒè¯å™¨æ˜¯å¦æ­£å¸¸å·¥ä½œ
3. æ£€æŸ¥æ—¥å¿—æ–‡ä»¶ä¸­çš„é”™è¯¯ä¿¡æ¯
4. éªŒè¯æ•°æ®æ˜¯å¦ç¬¦åˆè§„èŒƒ


