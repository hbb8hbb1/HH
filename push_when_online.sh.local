#!/bin/bash
# å½“ç½‘ç»œå¯ç”¨æ—¶æ¨é€ä»£ç åˆ°GitHub

cd "$(dirname "$0")"

export GIT_TOKEN="${GIT_TOKEN:-your-github-token-here}"

echo "ğŸ” æ£€æŸ¥ç½‘ç»œè¿æ¥..."
if ! ping -c 1 github.com > /dev/null 2>&1; then
    echo "âŒ æ— æ³•è¿æ¥åˆ°GitHubï¼Œè¯·æ£€æŸ¥ç½‘ç»œ"
    exit 1
fi

echo "âœ… ç½‘ç»œè¿æ¥æ­£å¸¸"
echo ""
echo "ğŸš€ é…ç½®è¿œç¨‹ä»“åº“å¹¶æ¨é€..."

git remote set-url origin "https://hbb8hbb1:${GIT_TOKEN}@github.com/hbb8hbb1/HH.git"
git push -u origin main

if [ $? -eq 0 ]; then
    echo ""
    echo "âœ… ä»£ç å·²æˆåŠŸæ¨é€åˆ°GitHubï¼"
    echo "   ä»“åº“åœ°å€: https://github.com/hbb8hbb1/HH"
else
    echo ""
    echo "âŒ æ¨é€å¤±è´¥ï¼Œè¯·æ£€æŸ¥ï¼š"
    echo "   1. ç½‘ç»œè¿æ¥"
    echo "   2. GitHub Tokenæƒé™"
    echo "   3. ä»“åº“æƒé™"
fi
