
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="utf-8">
            <title>Extracted Content</title>
            <style>
                body {
                    font-family: Arial, sans-serif;
                    line-height: 1.6;
                    margin: 20px;
                }
                .thread_subject {
                    font-size: 1.5em;
                    font-weight: bold;
                    margin-bottom: 20px;
                }
                .post_time {
                    font-size: 0.9em;
                    color: gray;
                    margin-bottom: 10px;
                }
                .article_body {
                    margin-top: 20px;
                }
                .attachments {
                    margin-top: 20px;
                    background: #f9f9f9;
                    padding: 10px;
                    border: 1px solid #ddd;
                }
                .attachments a {
                    display: block;
                    margin: 5px 0;
                    text-decoration: none;
                    color: blue;
                }
            </style>
        </head>
        <body>
            <div class="thread_subject"><span id="thread_subject">狗家 PA 跪经</span></div>
            <div class="post_time">Published on: 2022-6-29 10:07</div>
            <div class="article_body"><td class="t_f" id="postmessage_17325750" itemprop="articleBody">
一上来先自我介绍，然后walk through project，先是一道sql题，应该是google map里面餐厅的rating data，有user_id, timestamp, location_name (has duplicate values), location_id, rating (has null values) 还有几个不太重要的columns。1. 问unique users有多少个？<font class="jammer"></font><br>
这个楼主直接select (distinct user_id)<font class="jammer"></font><br>
2. 如果只考虑user的most updated rating（因为同一个人可能会对某个餐馆有不同的评价），每一个restaurant的avg rating是什么？<font class="jammer"></font><br>
用window function<font class="jammer"></font><br>
with tb1 as (select loc_id, user_id, rating, rank() over (partition by loc_id, user_id order by timestamp desc) as ranking from table1)<font class="jammer"></font><br>
select loc_id, avg(rating) as avg_rating from tb1 where ranking = 1 group by 1<font class="jammer"></font><br>
3. 面试官提醒要Exclude null ratings，还有output table里面想看到location name，楼主就直接在前面的cte里面加了rating is not null (面试官好像这里有点停顿，但是也没打断我，不知道这里是不是踩了雷。。）然后最后弄了个left join把location name搞进来。<font class="jammer"></font><br>
<font class="jammer"></font><br>
后来就是一个case，说给subset of 一个ecommerce website customers发promo 邮件，这个邮件已经发出去了，而且已知不是ab test，问你怎么去measure the impact of what we have done。<font class="jammer"></font><br>
楼主刚开始听到promo邮件，就想从email marketing click through rate回答，success metrics选择了click through rate, site landing rate, 还有revenue（面试官说希望main metric是revenue）。楼主就说取两组人，都是people who landed on site：一组是没有用这个email的折扣码， 还有一组用了折扣码，比较两组的revenue。两组尽量同样的size。具体分析的时候，可以画个图，比较这两组的revenue的变化，尽量排除seasonality, novelty, primacy, day of the week那些effect，接着面试官问用什么test，楼主就说用t test，面试官接着问t test有什么assumption，楼主就解释了一下Normality, independence, 跟random。<font class="jammer"></font><br>
<font class="jammer"></font><br>
面的过程感觉没踩什么雷（也许踩了但我没发现T_T)，不知道为什么挂了，求大神解惑！！<font class="jammer"></font><br>
<font class="jammer"></font><br>
</td></div>
            <div class="attachments"></div>
        </body>
        </html>
        