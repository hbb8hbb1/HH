{
  "title": "Google 数据科学岗电面经历：SQL与统计基础考察",
  "originalContent": "<div class=\"article_body\"><td class=\"t_f\" id=\"postmessage_16090843\" itemprop=\"articleBody\">\n在职跳槽， 新鲜面经奉上，祝各位找工作顺利 offer满满！<br/>\n之前找朋友内推， 用的他发的链接。之后HR reachout之后让我写了很长的一个questionnaire， 比如问你最擅长的programming language，那些skillsets 擅长 做的project如何 介绍一下之类的， 写了挺长的一个。 <br/>\n<br/>\n提交完了以后麻烦HR就马上回邮件约电话面试了。<br/>\n<br/>\n一共两个部分， SQL和statistics。面试开摄像头，share了一个google doc的文件写SQL， 其他的问题都是他在问， 我口头回他完了之后他一直在打字记笔记。说面试结果不是由他直接决定的， 是把我的答案share给别的一个什么评审小组决定上面的。 <br/>\n<br/>\nSQL：<br/>\n<span style=\"display:none\"></span>主要考了些window function 和subquery 没有太复杂。<br/>\n一共两个问题， 第一个问题有两个小问， 第二题就一个。<br/>\n<br/>\n统计：<br/>\n考的比较杂， 感觉就是在考知识面的广度。比如问了点Ab test的基础概念 alpha beta power etc，他一直都在负责记录， 打字复制粘贴我写在google doc 里面的sql。还考的就是Linear regression 相关的知识点 ，assumption之类的。<br/>\n<span style=\"display:none\"></span><br/>\n<div class=\"locked\">以下内容需要积分高于 123 您已经可以浏览</div><br/>\n<div style=\"border: 1px solid #C2D5E3;padding:8px 8px 8px 24px;\">SQL：<br/>\n面试还是很注重细节的， 比如一些corner case.<br/>\n1. user_id, timestamp, spend<br/>\n1.1: top 10 customers spend <br/>\n用了dense_rank function + subquery, 选了top 10. 我最开始的时候写了一个简单的sum groupby + order by + limit 10, 然后他后来给我指出来有corner case 没有考虑到， 我说应该就是 tie rank的情况了。就改了以后重新选了rank_num&lt;= 10.<br/>\n<br/>\n1.2 Top 1% of the customers by their spend<br/>\n其实跟上面的题差别不大， 就是再套了一层subquery（面试官印度大叔态度非常和蔼，我先给他说了思路， 说有可能要多层subquery，他说没事， as many subrquery as you want...:)<br/>\n所以我就嵌套了新的一层query计算 rank_percentage（= rank/total distinct count userid), 然后又加了一层选rank_perc&lt;= 1%<br/>\n<br/>\n2. 以前面经出现过的那个原题：<br/>\nfind user id who make transactions in Dec but not in Jan.<br/>\n<br/>\n我直接用了差集那个operation： Except 两个select+where再 剪一下就好了， 我觉得应该没错。欢迎大家讨论指正。<br/>\n<br/>\nstatistics:<br/>\n1. linear regression assumption<br/>\n2. what is statistical power(by definition, formula, beta ect)<br/>\n<span style=\"display:none\"></span>   what are the factors will effect the beta(我这个现场搜的， 说了三个他说ok了）<br/>\n<br/>\n<span style=\"display:none\"></span>3. model case<br/>\n其实这个我有点每太理解到他的意思一开始， 他说他们有个model跑了挺久比较稳定， 用10个变量造的model可以预测个revenue 预测的越准赚钱越多，现在有个vendor说他们还有20个变量的新数据 可以卖给你 但是花费很高， 问你怎么办。。。我就先说看值不值这个价了， 比如新的数据来了以后也就赚了一点钱 还没买数据价格高 那就不值了。但是也说了会考虑本身已有的model还有什么改进空间， 比如目前的model已经比较准确了 进步空间不大了那就不太需要考虑了。我本来因为需要考虑ab test了。。。毕竟之前的面经都说这一轮会考experiment design但是他后来记录完了把我拉回去了， 问我怎么评价linear regression accuracy， 问我用什么metrics 然后我后来才反应过来他是想考这个知识点， 就说了点Adjusted Rsquare， MSRE, MSE 之类的 他说好了（就感觉他听到了他想听到的答案他就不往下继续了）</div><br/>\n<br/>\n<br/>\n印度大叔感觉态度一直很好， 但是比较疲惫，全程伸懒腰了好几次说他等下要去赶bus回家什么的。 聊了点关于职位本身的， 问他 biggest challenge for this role in Google, 他居然一开口就说 升职比较难。。。然后举了点例子吧，但是他说他还比较喜欢， 大概80% dive deep into data, 20% present result and analysis. 对了 他说他在map组， 做很多time series 所以难怪他考了的都是linear regression相关的。 <br/>\n<br/>\n不过感觉他还是很健谈的， 时间本来说是40分钟左右后来一共聊了一个小时 他也没着急要挂视频的意思。尤其是最后问问题都不紧不慢地给我讲他的故事和经验 回答我。 <br/>\n<span style=\"display:none\">. Χ</span><br/>\n面试感觉不错， 但愿能进到下一轮吧。<br/>\n<br/>\n祝各位都顺利， 也顺便求波大米， 打字不易， 现在回帖看包裹还得掉大米。<br/>\n<br/>\n<br/>\n<br/>\n</td></div>",
  "processedContent": "## 基本信息（公司/岗位/结果/难度）\n- **公司**：Google\n- **岗位**：数据科学家（Data Scientist）\n- **结果**：未提及/不明确\n- **难度**：4\n\n## 时间线\n- 内推投递 → HR 发送问卷 → 提交问卷 → 收到电话面试邀请\n- 面试轮次：首轮技术电面（视频面试，含 SQL 与统计问答）\n- 每轮时长：约60分钟（原定40分钟）\n\n## 面试过程\n### 第一轮：技术电面（视频面试）\n- 使用工具：开启摄像头，共享 Google Doc 编写 SQL\n- 面试官风格：态度和蔼，记录详尽，非最终决策人，答案将提交至评审小组\n- 考察内容分为两大部分：SQL 与 统计学知识\n\n#### SQL 部分\n1. **题目一：Top 10 与 Top 1% 客户消费分析**\n   - 表结构：`user_id`, `timestamp`, `spend`\n   - **Q1.1：找出消费最高的前10名客户**\n     - 初始思路：`SUM(spend) GROUP BY user_id ORDER BY DESC LIMIT 10`\n     - 面试官提示存在并列排名（tie case）问题\n     - 修正方案：使用 `DENSE_RANK()` 处理并列，外层筛选 `rank <= 10`\n   - **Q1.2：找出消费排名前1%的客户**\n     - 思路：在排名基础上计算百分比排名（`rank / total_users`），筛选 `percentage <= 0.01`\n     - 实现方式：嵌套子查询，先计算总用户数与排名，再计算百分比\n\n2. **题目二：找出12月有交易但1月无交易的用户**\n   - 解法：使用集合差操作 `EXCEPT`（或 `NOT EXISTS`）\n     - 子查询1：筛选12月有交易的用户\n     - 子查询2：筛选1月有交易的用户\n     - 最终结果：12月用户集减去1月用户集\n\n#### 统计部分\n1. **线性回归假设**\n   - 回答了线性、独立性、同方差性、正态性、无多重共线性等基本假设\n\n2. **统计功效（Statistical Power）**\n   - 定义：正确拒绝原假设的概率（1 - β）\n   - 公式：Power = 1 - β\n   - 影响因素：样本量、效应大小（effect size）、显著性水平（α）、方差等\n\n3. **模型扩展决策案例**\n   - 场景：现有模型使用10个变量预测收入，准确率稳定；第三方提供20个新变量，但价格昂贵\n   - 回答思路：\n     - 评估性价比：新增变量带来的收益是否高于成本\n     - 分析当前模型改进空间：若已接近上限，则增益有限\n     - 建议先做离线评估（如交叉验证），而非直接购买或进行 A/B 测试\n   - 后续追问：如何评估线性回归模型准确性？\n     - 回答指标：调整R²、MSE、RMSE 等\n\n### 互动环节\n- 主动提问：该岗位的最大挑战？\n  - 面试官回答：晋升较难，但工作内容满意（80%深入数据分析，20%汇报）\n  - 所属团队：Maps 团队，侧重时间序列分析，因此考察线性回归较多\n- 面试官状态：略显疲惫，但沟通耐心，超时仍详细解答提问\n\n## 题目总结\n### SQL 题目\n1. 使用窗口函数处理 Top N 排名（考虑并列情况）\n2. 计算 Top X% 用户（基于排名百分比）\n3. 查找某时间段有行为但在另一时间段无行为的用户（集合差）\n\n### 统计题目\n1. 线性回归的基本假设\n2. 统计功效的定义、公式及影响因素\n3. 如何评估模型性能提升（指标选择）\n4. 高成本数据引入的决策逻辑\n\n## 个人总结（经验与建议）\n- 准备重点：熟练掌握窗口函数（尤其是排名类）、子查询嵌套、集合操作（EXCEPT/NOT EXISTS）\n- 注意细节：面试官重视边界情况（corner cases），如并列排名处理\n- 统计知识广度优先：不仅知其然，还需知其所以然（如 power 的构成）\n- 案例题重逻辑而非标准答案：体现成本收益思维、模型评估意识\n- 主动提问加分：了解团队工作内容有助于展示匹配度\n- 面试节奏可能延长：保持专注，即使超时也不要急于结束",
  "company": "Google",
  "role": "Data Scientist",
  "difficulty": 4,
  "tags": [
    "数据科学",
    "SQL",
    "统计学",
    "电面",
    "窗口函数",
    "A/B测试",
    "模型评估",
    "Google"
  ],
  "comments": [],
  "usefulVotes": 0,
  "uselessVotes": 0,
  "shareCount": 0,
  "isAnonymous": true
}