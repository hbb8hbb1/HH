# 启动后端服务器指南

## 🚀 快速启动

### 方法 1：使用启动脚本（推荐）

```bash
cd /Users/henghuang/Desktop/代码
./启动后端.sh
```

### 方法 2：直接运行

```bash
cd /Users/henghuang/Desktop/代码/HH-main/server
PORT=5001 node index.js
```

### 方法 3：后台运行

```bash
cd /Users/henghuang/Desktop/代码/HH-main/server
PORT=5001 node index.js > server.log 2>&1 &
```

## ✅ 验证后端是否启动成功

### 1. 检查端口
```bash
lsof -i :5001
```
应该看到 `node` 进程在监听端口 5001

### 2. 测试 API
```bash
curl http://localhost:5001/api/posts?page=1&limit=5
```

如果返回 JSON 数据，说明后端正常运行。

### 3. 查看日志
后端启动成功会显示：
```
MongoDB connected
Server running on port 5001
```

## 🔧 常见问题

### 问题 1：端口被占用
```bash
# 查找占用端口的进程
lsof -i :5001

# 结束进程（替换 PID 为实际进程号）
kill -9 <PID>
```

### 问题 2：MongoDB 连接失败
- 检查 MongoDB 是否运行
- 检查 `.env` 文件中的 `MONGO_URI` 配置
- 如果使用 MongoDB Atlas，检查网络访问设置

### 问题 3：依赖未安装
```bash
cd /Users/henghuang/Desktop/代码/HH-main/server
npm install
```

## 📝 当前状态

- ✅ 后端服务器已启动在端口 **5001**
- ✅ 前端代理配置：`/api` → `http://localhost:5001`
- ✅ 前端运行在：`http://localhost:3000`

**现在可以刷新前端页面查看数据库中的真实数据了！**

